<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
</head>
<body>
	<ul></ul>
	<script>
		const lista = document.querySelector("ul");
	//1)Crear una conexión → objeto XHR 
		const conexion = new XMLHttpRequest(); 
		//es una función pero no quiero invocarla a secas, saco una copia de ese objeto con new, siempre va a ser igual
	
	//2)Configurar la conexión → método, URL
		conexion.open("GET", "prueba.txt");
		//a donde nos vamos a conectar y qué método vamos a utilizar, normalmente lo que vamos a hacer es pedir cosas 
	
	//3)Enviar la PETICIÓN 
		conexion.send();

	//4)Esperar la respuesta y gestionarla, la respuesta que me va a llegar es un string
		conexion.addEventListener("load", function(){
			conexion.responseText.split(",").forEach( palabra => {
				let li = document.createElement("li");
				li.innerHTML = palabra;
				lista.appendChild(li);
			});
		});
		//cuando ese evento suceda, quiere decir que ya tenemos la respuesta, lo que tengo que hacer es invocar un callback y dentro del callback, a partir de la conexión, voy a tener una propiedad llamada responseText, que es literalmente el string que me ha llegado del servidor

		//como tiene que trabjar con un servidor, no se va a abrr el open in browser
		//ajax es para pedir cosas y que se sirvan
	</script>
</body>
</html>